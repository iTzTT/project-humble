<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hartland Homes</title>
	<link rel="stylesheet" href="bootstrap-4.1.3-dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="css/fixed.css"> 
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">  
  <script src="https://kit.fontawesome.com/4d34a687fd.js" crossorigin="anonymous"></script>
</head>

<body>

<nav id="navbar" class="navbar navbar-default navbar-fixed-top">
  <a class="navbar-brand mr-auto" href="#">
    <img class="logo" src="images/CompanyLogoNoTopBorder.jpg" alt="" />
  </a>
  <div class="nav-item">
    <span class="navbar-phone">(503) 396-7883</span>
  </div>
  <div class="nav-item">
    <button class="btn shadow-lg btn-outline-primary btn-quote" onclick="modalPopup()" id="mybtn"><strong>Get a Quote</strong></button>
  </div>
</nav>

<div id="carouselIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselIndicators" data-slide-to="1"></li>
    <li data-target="#carouselIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" role="listbox">    
    <div class="carousel-item active" style="background-image: url('images/finishedroofsmall.jpg')">
      <div class="carousel-caption d-none d-md-block">        
        <h2 class="display-4">Hartland Homes</h2>
      </div>
    </div>    
    <div class="carousel-item" style="background-image: url('images/roofaboveview.jpg')">
      <div class="carousel-caption d-none d-md-block">        
        <h2 class="display-4">Roofing</h2>
      </div>
    </div>    
    <div class="carousel-item" style="background-image: url('images/barnresized.jpg')">
      <div class="carousel-caption d-none d-md-block">        
        <h2 class="display-4">Barns/Sheds</h2>
      </div>
  </div>
  <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
  <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
</div>


<div class="main-container">  
  <div class="service-area">
    <h1 class="services-header">
        Our Services
    </h1>    
    <div class="flex-container">
      <div class="card flex-item services-card shadow-lg">
        <img src="images/roof_small.jpg" alt="" class="card-top" />
        <div class="card-body">
          <div class="card-title">Roofing</div>
          <div class="card-info">
            
          </div>
          <button class="btn btn-outline-primary card-button" onclick="modalPopup();">Get a Quote</button>
        </div>
      </div>
      <div class="card flex-item services-card shadow-lg">
        <img src="images/barn_small.jpg" alt="" class="card-top" />
        <div class="card-body">
          <div class="card-title">Post Frame</div>
          <div class="card-info">
            
          </div>
          <button class="btn btn-outline-primary card-button" onclick="modalPopup();">Get a Quote</button>
        </div>
      </div>
    </div> 
  </div>
  <div class="container-fluid about-us-container">        
    <div class="row d-flex justify-content-center">
      <div class="col-sm-6 col-md-6 col-lg-6">
        <p class="about-us">
          Hartland Homes is a local business providing many services ranging from Roofing to Post frame structures. 
          Our company has been serving the Houston/Conroe area for 5+ continuing to deliver excellent results to our customers.
          During the Winter Storm of 2021 we were there for our customers, acting as a reliable source when the Houston area needed it most.
          Request a quote and get one step closer to a better home!
        </p>
      </div>
    </div>
  </div>               
</div>

<div class="modal" id="myModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Request a Quote</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form name="emailForm" id="emailForm" onsubmit="return submitForm()" method="post" enctype="text/plain">
          <div class="form-group">
            <label for="nameInput">Name</label>
            <input type="text" class="form-control" id="nameInput" placeholder="Enter Name" required>
          </div>
          <div class="form-group">
            <label for="phoneInput">Phone #</label>
            <input type="text" class="form-control" id="phoneInput" placeholder="Enter Phone #" required>
          </div>
          <div class="form-group">
            <label for="emailInput">Email address</label>
            <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp" placeholder="Enter email" required>
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" class="form-control" name="description" rows="3" cols="50" required></textarea>
          </div>
          <div class="form-group">
            <label for="selectService">Service Requested</label>
            <select id="selectService" class="form-control" name="selectService" rows="3" cols="50" required>
              <option value="NewRoof">New Roof</option>
              <option value="RoofRepair">Roof Repair</option>
              <option value="PostFrame">Post Frame Structure</option>
            </select>
          </div>          
          <div class="g-recaptcha" data-sitekey="6LcJE8IaAAAAALbmWWfL9VwyTf1Wvu3NaZwB5mwk" data-callback="checkRecaptcha"></div>          
          <button 
            type="submit" 
            class="btn btn-outline-success submit-button"                        
            value="submit">Request</button>
        </form>   
      </div>     
    </div>
  </div>
</div>

<input type="hidden" id="recaptchaVerified" value="false" />

<script src="js/jquery-3.3.1.min.js"></script>
<script src="bootstrap-4.1.3-dist/js/bootstrap.min.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

<script>

  // Get the modal
  var modal = document.getElementById("myModal");


  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  modalPopup = function() {
    modal.style.display = "block";
  }

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  function submitForm(token) {
    var form = document.getElementById("emailForm");
    var recaptchaVerified = document.getElementById("recaptchaVerified").value;

    console.log('emailform', form);
    console.log('recaptcha value', recaptchaVerified);

    var templateParams = {
        from_name: form.elements['nameInput'].value,
        select_service: form.elements['selectService'].value,
        service_description: form.elements['description'].value,
        from_email: form.elements['emailInput'].value,
        from_phone: form.elements['phoneInput'].value,
        reply_to: form.elements['emailInput'].value
    }

    console.log('these are the template params', templateParams);

    if (recaptchaVerified == "true") {            
      emailjs.send("service_dwam48l","template_7jotlbd",templateParams).then(function(response) {
        console.log('SUCCESS!', response.status, response.text);
      }, function(error) {
        console.log('FAILED...', error);
      });      
    } else {
      alert('Please verify you are are not a robot');
    }
    return false;
  }

  // Captcha3.0

  function checkRecaptcha() {
    var response = grecaptcha.getResponse();
    if(response.length == 0) {     
      alert("You were reported as a bot!");
      console.log('recaptcha failed');     
    }
    else { 
      document.getElementById("recaptchaVerified").value = "true";
      console.log('recaptcha passed');
    }
  }

  //emailJs

  (function(){
      emailjs.init("user_rDIHcLv0Jp41QFxvCjr4C");
   })();
   

</script>


</body>
</html>
